# プロダクトコンテキスト

## 解決する問題

Streamlit アプリでユーザー入力を取得し、そのデータを外部スクリプトに渡して処理させ、構造化されたデータ (JSON) を返却させて表示する、という一連の連携フローを実装したい。特に、外部スクリプトとのデータのやり取りを標準化（Pydantic と JSON を使用）したい。

## アプリケーションの動作

1. アプリケーションはメッセージ入力用のフォームと実行ボタンを表示する。
2. ユーザーはフォームにメッセージを入力し、ボタンをクリックする。
3. `app.py` は入力されたメッセージをコマンドライン引数として `greet.py` に渡して実行する。
4. `greet.py` は引数を受け取り、処理を行い、結果を Pydantic モデルに基づいて JSON 形式で標準出力に出力する。
5. `app.py` は `greet.py` からの JSON 出力を受け取り、解析する。
6. 解析されたデータ（挨拶メッセージ、タイムスタンプなど）が Streamlit アプリケーション上に整形されて表示される。
7. 実行やデータ解析中にエラーが発生した場合は、適切なエラーメッセージが表示される。

## ユーザーエクスペリエンスの目標

- ユーザーが簡単に入力を行い、外部スクリプトの処理結果を明確に確認できること。
- アプリケーション間のデータ連携が JSON と Pydantic によって構造化されていることをコードレベルで理解できること。
- エラー発生時にも何が起こったのかが分かりやすいこと。
